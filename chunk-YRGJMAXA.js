import{a as c}from"./chunk-W67WLBRR.js";import{e as r}from"./chunk-REBENH2H.js";import{g as a}from"./chunk-2R6CW7ES.js";var p=(()=>{let i=class i{constructor(){this.table=c.collections}addCollection(t){return a(this,null,function*(){return yield this.table.add(t)})}addChild(t,e,o){return a(this,null,function*(){let l=yield this.table.get(t);if(l)if(o==="collection"){let n=[...l.collectionIds??[],e];yield this.updateCollection(t,{collectionIds:n})}else{let n=[...l.plantIds??[],e];yield this.updateCollection(t,{plantIds:n})}})}removeCollection(t){return a(this,null,function*(){yield this.table.delete(t)})}updateCollection(t,e){return a(this,null,function*(){yield this.table.update(t,e)})}queryBy(t,e){return a(this,null,function*(){return yield this.table.where(t).equals(e).toArray()})}getCollection(t){return a(this,null,function*(){return yield this.table.get(t)})}bulkGet(t){return a(this,null,function*(){return(yield this.table.bulkGet(t)).filter(o=>!!o)})}};i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r({token:i,factory:i.\u0275fac,providedIn:"root"});let s=i;return s})();function f(s){return s.charAt(0).toUpperCase()}export{p as a,f as b};
