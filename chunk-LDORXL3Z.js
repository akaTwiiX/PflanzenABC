import{a as k,b as q}from"./chunk-DZH3VOU7.js";import{a as F}from"./chunk-YRGJMAXA.js";import{b as V}from"./chunk-W67WLBRR.js";import{C as v,E as y,F as P,G as l,H as a,I as r,J as s,O as M,P as x,T as m,U as g,V as f,Y as h,Ya as L,Z as O,Za as S,cb as I,db as E,f as u,fb as D,gb as Q,lb as T,ma as w,mb as A,p as c,qa as b,qb as B,s as p}from"./chunk-REBENH2H.js";import"./chunk-Q6FFIHTR.js";import"./chunk-6LGZ257D.js";import"./chunk-4QTIMY6T.js";import"./chunk-J7JDIHQK.js";import"./chunk-SDMJJ4FY.js";import"./chunk-GIIU5PV3.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-SPMQWSIB.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{g as _}from"./chunk-2R6CW7ES.js";function $(t,e){if(t&1&&(a(0,"ion-accordion",2)(1,"ion-item",3)(2,"ion-label",4),h(3),r(),s(4,"ion-icon",5),r(),s(5,"app-plant-list",6),r()),t&2){let C=e.$implicit,o=e.$index,n=x();l("value",C),c(),l("ngClass",o%2===0?"first":"second"),c(2),O(C),c(2),l("plants",n.plants)("collections",n.collections)("isLoading",n.isLoading)}}var z=(()=>{let e=class e{constructor(){this.letters="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),this.plantStorageService=u(V),this.collectionStorageService=u(F),this.plants=[],this.collections=[],this.expandedLetter=null,this.isLoading=!0}ngOnInit(){}ionViewWillEnter(){console.log("Expanded letter on view enter:",this.expandedLetter),this.expandedLetter&&this.fetchPlants(this.expandedLetter)}onAccordionChange(o){let n=o.detail.value;n&&n!==this.expandedLetter&&(this.expandedLetter=n,this.fetchPlants(n))}fetchPlants(o){return _(this,null,function*(){this.isLoading=!0;try{let[n,i]=yield Promise.all([this.plantStorageService.queryBy("initialId",o),this.collectionStorageService.queryBy("initialId",o)]);this.plants=n,this.collections=i}catch(n){console.error("Failed to fetch plants and collections:",n),this.plants=[],this.collections=[]}finally{this.isLoading=!1}})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=p({type:e,selectors:[["app-dropdown-list"]],decls:4,vars:0,consts:[[1,"container"],[3,"ionChange"],[3,"value"],["slot","header",1,"accordion-header",3,"ngClass"],[1,"label"],["name","chevron-down","slot","end","color","black",1,"ion-accordion-toggle-icon","ion-margin-end"],["slot","content",3,"plants","collections","isLoading"]],template:function(n,i){n&1&&(a(0,"div",0)(1,"ion-accordion-group",1),M("ionChange",function(R){return i.onAccordionChange(R)}),y(2,$,6,6,"ion-accordion",2,v),r()()),n&2&&(c(2),P(i.letters))},dependencies:[L,S,D,Q,B,b,w,k],styles:[".container[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{--inner-padding-end: 0;--inner-padding-start: 0;text-align:center;--color: #000}.container[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-left:40px}.container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{--background: #bec9b5}.container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{--background: #d7dcd3ff}.container[_ngcontent-%COMP%]   .plant-list[_ngcontent-%COMP%]   .plant-item[_ngcontent-%COMP%]{height:50px;display:flex;align-items:center}.container[_ngcontent-%COMP%]   .plant-list[_ngcontent-%COMP%]   .plant-item[_ngcontent-%COMP%]:last-child{border-bottom:none}"]});let t=e;return t})();var G=["dropdown"],H=(()=>{let e=class e{enterPage(){this.dropdown.ionViewWillEnter()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=p({type:e,selectors:[["app-main-content"]],viewQuery:function(n,i){if(n&1&&m(G,5),n&2){let d;g(d=f())&&(i.dropdown=d.first)}},decls:4,vars:0,consts:[["dropdown",""],[1,"container"],[1,"button"]],template:function(n,i){n&1&&(a(0,"div",1),s(1,"app-dropdown-list",null,0)(3,"app-add-button",2),r())},dependencies:[z,q],styles:[".container[_ngcontent-%COMP%]{padding:0 16px;height:100%}.container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:sticky;bottom:var(--ion-safe-area-bottom);margin-bottom:unset}"]});let t=e;return t})();var N=["mainContent"],sn=(()=>{let e=class e{constructor(){}ionViewWillEnter(){this.mainContent.enterPage()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=p({type:e,selectors:[["app-home"]],viewQuery:function(n,i){if(n&1&&m(N,5),n&2){let d;g(d=f())&&(i.mainContent=d.first)}},decls:8,vars:2,consts:[["mainContent",""],[3,"translucent"],[3,"fullscreen"],[1,"safe-area"]],template:function(n,i){n&1&&(a(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),h(3," PflanzenABC "),r()()(),a(4,"ion-content",2)(5,"div",3),s(6,"app-main-content",null,0),r()()),n&2&&(l("translucent",!0),c(4),l("fullscreen",!0))},dependencies:[E,A,T,I,H],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]});let t=e;return t})();export{sn as HomePage};
